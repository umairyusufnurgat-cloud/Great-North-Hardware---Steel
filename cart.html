<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart - Great North Hardware & Steel Ltd</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="logo">Great North Hardware & Steel Ltd</div>
  <nav id="nav-menu">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="products.html">Products</a>
    <a href="contact.html">Contact</a>
    <a href="cart.html" class="cart-link active">
      <i class="fas fa-shopping-cart"></i>
      <span id="cart-count" class="cart-badge">0</span>
    </a>
  </nav>
</header>

<section class="page-banner" style="background-image: url('images/metal.webp');">
  <h2>Shopping Cart</h2>
</section>

<section class="cart-section">
  <div class="container">
    <div id="cart-items"></div>
    <div class="cart-summary">
      <h3>Order Summary</h3>
      <div class="summary-row">
        <span>Subtotal:</span>
        <span id="subtotal">$0.00</span>
      </div>
      <div class="summary-row">
        <span>Tax (10%):</span>
        <span id="tax">$0.00</span>
      </div>
      <div class="summary-row total">
        <span>Total:</span>
        <span id="total">$0.00</span>
      </div>
      <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
    </div>
  </div>
</section>

<footer>
  <p>&copy; 2025 Great North Hardware & Steel Ltd. All Rights Reserved.</p>
</footer>

<script src="script.js"></script>
<script>
function displayCart() {
  const cartItems = document.getElementById('cart-items');
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  
  if (cart.length === 0) {
    cartItems.innerHTML = '<div class="empty-cart"><i class="fas fa-shopping-cart"></i><h3>Your cart is empty</h3><a href="products.html" class="continue-shopping">Continue Shopping</a></div>';
    updateCartSummary(0);
    return;
  }
  
  let cartHTML = '<div class="cart-items-grid">';
  cart.forEach((item, index) => {
    cartHTML += `
      <div class="cart-item">
        <div class="item-info">
          <h4>${item.name}</h4>
          <p class="item-price">$${item.price}</p>
        </div>
        <div class="quantity-controls">
          <button onclick="updateQuantity(${index}, -1)">-</button>
          <span>${item.quantity}</span>
          <button onclick="updateQuantity(${index}, 1)">+</button>
        </div>
        <div class="item-total">$${(item.price * item.quantity).toFixed(2)}</div>
        <button class="remove-btn" onclick="removeItem(${index})"><i class="fas fa-trash"></i></button>
      </div>
    `;
  });
  cartHTML += '</div>';
  cartItems.innerHTML = cartHTML;
  
  const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
  updateCartSummary(subtotal);
}

function updateQuantity(index, change) {
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  cart[index].quantity += change;
  
  if (cart[index].quantity <= 0) {
    cart.splice(index, 1);
  }
  
  localStorage.setItem('cart', JSON.stringify(cart));
  displayCart();
  updateCartDisplay();
}

function removeItem(index) {
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  cart.splice(index, 1);
  localStorage.setItem('cart', JSON.stringify(cart));
  displayCart();
  updateCartDisplay();
}

function updateCartSummary(subtotal) {
  const tax = subtotal * 0.1;
  const total = subtotal + tax;
  
  document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
  document.getElementById('tax').textContent = `$${tax.toFixed(2)}`;
  document.getElementById('total').textContent = `$${total.toFixed(2)}`;
}

function checkout() {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  if (cart.length === 0) {
    showNotification('Your cart is empty!');
    return;
  }
  
  showNotification('Order placed successfully! We will contact you soon.');
  localStorage.removeItem('cart');
  displayCart();
  updateCartDisplay();
}

document.addEventListener('DOMContentLoaded', displayCart);
</script>
</body>
</html>